\chapter{Diseño de interfaces}
Durante este capítulo se presentan las interfaces que conforman la aplicación.

\section{Interfaz de inicio}
La interfaz de inicio se divide en tres secciones, el menú, el visualizador de red y un apartado para ver los elementos de la red. Para cargar una red debe ir a \textit{File} $>$ \textit{Open}. Para resolver un problema debe ir al menú \textit{Problems} y elegir el problema a resolver. Para ver más detalles de un componente de la red, entonces pulse dos veces en componente de la red en el apartado de elementos. Esta interfaz se muestra en la Figura \ref{fig:interfaz_inicio}.

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{Capitulo4/assets/InterfazInicio.png}
    \caption{Esquema de interfaz de inicio del sistema.}
    \label{fig:interfaz_inicio}
\end{figure}

\section{Interfaz de configuración y descripción del problema}
La interfaz de configuración y descripción del problema es mostrada cuando el problema tiene parámetros que configurar. La Figura~\ref{fig:interfaz_descripcion_problema} muestra la interfaz de descripción del problema a optimizar. La Figura~\ref{fig:interfaz_configuracion_problema} muestra la interfaz para configurar los parámetros del problema.

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{Capitulo4/assets/InterfazDeConfiguracion1.png}
    \caption{Interfaz de descripción del problema.}
    \label{fig:interfaz_descripcion_problema}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{Capitulo4/assets/InterfazDeConfiguracion2.png}
    \caption{Interfaz de configuración del problema.}
    \label{fig:interfaz_configuracion_problema}
\end{figure}

\section{Interfaz de ejecución del experimento}

Esta interfaz es mostrada mientras se lleva a cabo la ejecución del algoritmo. Existen 2 interfaces de ejecución. Una para el problema monoobjetivo y otra para el multiobjetivo. La Figura \ref{fig:interfaz_experimento_monoobjetivo} muestra la interfaz usada cuando el problema es monoobjetivo. Por otro lado, la Figura \ref{fig:interfaz_experimento_multiobjetivo} muestra la interfaz para los problemas multiobjetivos.

Si se presiona el botón cancelar, entonces la ejecución del algoritmo será detenida.

La pestaña ``\textit{Chart}'' está disponible para la interfaz de los problemas multiobjetivos de hasta dos objetivos.

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{Capitulo4/assets/InterfazDeEjecucion1.png}
    \caption{Interfaz de ejecución del experimento monoobjetivo.}
    \label{fig:interfaz_experimento_monoobjetivo}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{Capitulo4/assets/InterfazDeEjecucion2.png}
    \caption{Interfaz de ejecución del experimento multiobjetivo.}
    \label{fig:interfaz_experimento_multiobjetivo}
\end{figure}

\section{Interfaz de gráficos}
Esta interfaz es mostrada cuando se selecciona la pestaña ``\textit{Chart}''. Ésta cuenta con un gráfico de dos ejes. Si el problema es de un objetivo, entonces el eje vertical corresponde al valor del objetivo después de realizar la evaluación, mientras que el eje horizontal corresponde al número de generaciones. Si el problema tiene dos objetivos, el eje vertical corresponde al primer objetivo y el eje horizontal corresponde al segundo objetivo. La interfaz para problemas monoobjetivos es mostrada en la Figura~\ref{fig:interfaz_grafica_soluciones_mono}, mientras que para el problema multiobjetivo se muestra la interfaz en la Figura~\ref{fig:interfaz_grafica_soluciones_multi}.

\begin{figure}[H]
    \centering
    \includegraphics[scale=0.7]{Capitulo4/assets/grafico_soluciones_monoobjetivo.png}
    \caption{Interfaz de gráfico de soluciones para problemas monoobjetivos}
    \label{fig:interfaz_grafica_soluciones_mono}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[scale=0.7]{Capitulo4/assets/grafico_soluciones_multiobjetivo.png}
    \caption{Interfaz de gráfico de soluciones para problemas multiobjetivos}
    \label{fig:interfaz_grafica_soluciones_multi}
\end{figure}

\section{Interfaz de resultados}
La interfaz de resultados es mostrada cuando la ejecución del algoritmo ha terminado exitosamente. Esta interfaz es mostrada en la ventana principal de la aplicación en una nueva pestaña. Al seleccionar una pestaña de resultado se activan tres botones como se muestra en la Figura \ref{fig:interfaz_resultados_optimizacion}.

El botón ``\textit{Save selected ítem as inp}'' crea un inp para la solución selecciona. Para esto se envía una copia del objeto Network abierto y la solución al método applySolutionToNetwork, al objeto problema. Este método sustituye en el objeto Network los valores correspondientes indicados en la solución y devuelve nuevamente el objeto Network para poder guardarlo usando un objeto que implementa la interfaz OutputWriter.

El botón ``\textit{Save Table}'' guarda todas las soluciones, en dos archivos separados. Uno de estos archivos guarda solamente las variables de decisión, y el otro guarda los valores de los objetivos. El nombre de éstos corresponde al dado a través del FileChooser que es mostrado al presionar el botón. A este nombre se le agrega el sufijo -FUN, para el archivo con los valores de los objetivos; y -VAR, para el archivo con los valores de las variables de decisión.

El botón ``\textit{Save Table as Excel}'' exporta la tabla a una planilla Excel.

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{Capitulo4/assets/InterfazDeResultados.png}
    \caption{Interfaz de resultados de la optimización}
    \label{fig:interfaz_resultados_optimizacion}
\end{figure}
 
\section{Interfaz de visualización de configuraciones de la red}
Al seleccionar un componente de la red en la interfaz gráfica y hacer doble click se abrirá una interfaz que permite ver la configuración por defecto de los componentes de la red. Esta interfaz consiste en mostrar una tabla en donde la primera columna será el nombre del atributo de la red y la segunda el valor. Un ejemplo de esta interfaz para un componente de la red se puede visualizar en la Figura \ref{fig:interfaz_visualizacion_configuracion}.

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{Capitulo4/assets/InterfazDeVisualizacionDeConfiguracionRed.png}
    \caption{Interfaz de visualización de la configuración de la red.}
    \label{fig:interfaz_visualizacion_configuracion}
\end{figure}
 
\section{Interfaz de ejecución de una red}
Se puede ejecutar una red con su configuración por defecto. Una vez ejecutada la red se puede visualizar en una interfaz los resultados de su ejecución. Este interfaz se muestra en la Figura \ref{fig:interfaz_resultado_simulacion}.
 
\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{Capitulo4/assets/InterfazDeResultadosDeSimulacion.png}
    \caption{Interfaz de resultados de ejecución de simulación hidráulica.}
    \label{fig:interfaz_resultado_simulacion}
\end{figure}

Los botones ``\textit{Time series for nodes}'' y ``\textit{Time series for link}'' solo son mostrados cuando la red está configurada para simular más de un periodo de tiempo de simulación.
